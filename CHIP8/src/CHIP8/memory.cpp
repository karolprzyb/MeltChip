#include "allInclude.h"

memory::memory()
{
	for(int x = 0; x < 4096; x++)
		mem[x] = 0;
	mem[0] = 0xF0;
	mem[1] = 0x90;
	mem[2] = 0x90;
	mem[3] = 0x90;
	mem[4] = 0xF0;

	mem[5] = 0x20;
	mem[6] = 0x60;
	mem[7] = 0x20;
	mem[8] = 0x20;
	mem[9] = 0x70;

	mem[10] = 0xF0;
	mem[11] = 0x10;
	mem[12] = 0xF0;
	mem[13] = 0x80;
	mem[14] = 0xF0;

	mem[15] = 0xF0;
	mem[16] = 0x10;
	mem[17] = 0xF0;
	mem[18] = 0x10;
	mem[19] = 0xF0;

	mem[20] = 0x90;
	mem[21] = 0x90;
	mem[22] = 0xF0;
	mem[23] = 0x10;
	mem[24] = 0x10;

	mem[25] = 0xF0;
	mem[26] = 0x80;
	mem[27] = 0xF0;
	mem[28] = 0x10;
	mem[29] = 0xF0;

	mem[30] = 0xF0;
	mem[31] = 0x80;
	mem[32] = 0xF0;
	mem[33] = 0x90;
	mem[34] = 0xF0;

	mem[35] = 0xF0;
	mem[36] = 0x10;
	mem[37] = 0x20;
	mem[38] = 0x40;
	mem[39] = 0x40;

	mem[40] = 0xF0;
	mem[41] = 0x90;
	mem[42] = 0xF0;
	mem[43] = 0x90;
	mem[44] = 0xF0;

	mem[45] = 0xF0;
	mem[46] = 0x90;
	mem[47] = 0xF0;
	mem[48] = 0x10;
	mem[49] = 0xF0;

	mem[50] = 0xF0;
	mem[51] = 0x90;
	mem[52] = 0xF0;
	mem[53] = 0x90;
	mem[54] = 0x90;

	mem[55] = 0xE0;
	mem[56] = 0x90;
	mem[57] = 0xE0;
	mem[58] = 0x90;
	mem[59] = 0xE0;

	mem[60] = 0xF0;
	mem[61] = 0x80;
	mem[62] = 0x80;
	mem[63] = 0x80;
	mem[64] = 0xF0;

	mem[65] = 0xE0;
	mem[66] = 0x90;
	mem[67] = 0x90;
	mem[68] = 0x90;
	mem[69] = 0xE0;

	mem[70] = 0xF0;
	mem[71] = 0x80;
	mem[72] = 0xF0;
	mem[73] = 0x80;
	mem[74] = 0xF0;

	mem[75] = 0xF0;
	mem[76] = 0x80;
	mem[77] = 0xF0;
	mem[78] = 0x80;
	mem[79] = 0x80;
/*
	mem[0]=(		
    0xF0, 0x90, 0x90, 0x90, 0xF0, // 0 mem[0]
    0x20, 0x60, 0x20, 0x20, 0x70, // 1 mem[5]
    0xF0, 0x10, 0xF0, 0x80, 0xF0, // 2 mem[10]
    0xF0, 0x10, 0xF0, 0x10, 0xF0, // 3 mem[15]
    0x90, 0x90, 0xF0, 0x10, 0x10, // 4 mem[20]
    0xF0, 0x80, 0xF0, 0x10, 0xF0, // 5 mem[25]
    0xF0, 0x80, 0xF0, 0x90, 0xF0, // 6 mem[30]
    0xF0, 0x10, 0x20, 0x40, 0x40, // 7 mem[35]
    0xF0, 0x90, 0xF0, 0x90, 0xF0, // 8 mem[40]
    0xF0, 0x90, 0xF0, 0x10, 0xF0, // 9 mem[45]
    0xF0, 0x90, 0xF0, 0x90, 0x90, // A mem[50]
    0xE0, 0x90, 0xE0, 0x90, 0xE0, // B mem[55]
    0xF0, 0x80, 0x80, 0x80, 0xF0, // C mem[60]
    0xE0, 0x90, 0x90, 0x90, 0xE0, // D mem[65]
    0xF0, 0x80, 0xF0, 0x80, 0xF0, // E mem[70]
    0xF0, 0x80, 0xF0, 0x80, 0x80  // F mem[75]
	);
	*/
	#ifdef LOGGING_CHIP8
	extern log mainLog;
	mainLog.message = "Memory init and fonts loaded.\n";
	mainLog.writeMessage();
	#endif
}

void memory::reset()
{
	for(int x = 0; x < 4096; x++)
		mem[x] = 0;
	mem[0]=(		
    0xF0, 0x90, 0x90, 0x90, 0xF0, // 0 mem[0]
    0x20, 0x60, 0x20, 0x20, 0x70, // 1 mem[5]
    0xF0, 0x10, 0xF0, 0x80, 0xF0, // 2 mem[10]
    0xF0, 0x10, 0xF0, 0x10, 0xF0, // 3 mem[15]
    0x90, 0x90, 0xF0, 0x10, 0x10, // 4 mem[20]
    0xF0, 0x80, 0xF0, 0x10, 0xF0, // 5 mem[25]
    0xF0, 0x80, 0xF0, 0x90, 0xF0, // 6 mem[30]
    0xF0, 0x10, 0x20, 0x40, 0x40, // 7 mem[35]
    0xF0, 0x90, 0xF0, 0x90, 0xF0, // 8 mem[40]
    0xF0, 0x90, 0xF0, 0x10, 0xF0, // 9 mem[45]
    0xF0, 0x90, 0xF0, 0x90, 0x90, // A mem[50]
    0xE0, 0x90, 0xE0, 0x90, 0xE0, // B mem[55]
    0xF0, 0x80, 0x80, 0x80, 0xF0, // C mem[60]
    0xE0, 0x90, 0x90, 0x90, 0xE0, // D mem[65]
    0xF0, 0x80, 0xF0, 0x80, 0xF0, // E mem[70]
    0xF0, 0x80, 0xF0, 0x80, 0x80  // F mem[75]
	);
	#ifdef LOGGING_CHIP8
	extern log mainLog;
	mainLog.message = "Memory reset and fonts loaded.\n";
	mainLog.writeMessage();
	#endif
}
